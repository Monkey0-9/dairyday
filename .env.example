# Copy this file to .env and fill in values
# NEVER commit .env to version control
# See README.md for secrets management guidelines

# =============================================================================
# APPLICATION
# =============================================================================
PROJECT_NAME=DairyOS
API_V1_STR=/api/v1
DEBUG=false

# =============================================================================
# DATABASE (PostgreSQL recommended for production)
# =============================================================================
# For local development, use shared instance
POSTGRES_SERVER=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_DB=dairy_db

# Alternative: Use connection string (overrides individual settings)
# DATABASE_URL=postgresql+asyncpg://user:pass@host:5432/db

# =============================================================================
# SECURITY - IMPORTANT: Generate new values for production!
# =============================================================================
# Generate with: openssl rand -base64 32
SECRET_KEY=change-this-in-production-use-openssl-rand-base64-32
ALGORITHM=HS256

# Token expiration
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_MINUTES=10080  # 7 days

# Rate limiting (format: "number/unit" where unit is second/minute/hour/day)
RATE_LIMIT=100/minute
AUTH_RATE_LIMIT=5/minute  # Stricter for auth endpoints

# Login security
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# =============================================================================
# REDIS (for caching, rate limiting, Celery broker)
# =============================================================================
REDIS_URL=redis://redis:6379/0

# =============================================================================
# AWS / S3 Configuration
# =============================================================================
# AWS credentials (use IAM roles in production, not access keys)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_BUCKET_NAME=dairy-bills
AWS_ENDPOINT_URL=  # For MinIO/S3 compatible storage (optional)

# =============================================================================
# Razorpay Payment Gateway
# =============================================================================
# Get from dashboard.razorpay.com
RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=
RAZORPAY_WEBHOOK_SECRET=  # For HMAC signature verification

# =============================================================================
# Error Tracking (Sentry)
# =============================================================================
# Get from sentry.io
SENTRY_DSN=

# =============================================================================
# 2FA Configuration (Optional for Admin accounts)
# =============================================================================
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key())"
TOTP_ENCRYPTION_KEY=

# =============================================================================
# Celery Configuration
# =============================================================================
# For production, use Redis or RabbitMQ
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_URL=redis://redis:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC

# =============================================================================
# Feature Flags (Optional)
# =============================================================================
# ENABLE_2FA=false
# ENABLE_PAYMENT_RECONCILIATION=true
# ENABLE_AUDIT_LOGGING=true

